<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0,user-scalable=no">
	<script>
		document.querySelector('html').style.fontSize = window.screen.width / 20 + 'px';
		/**
		 * [onresize description]
		 * @return {[type]} [description]
		 */
		window.onresize = function() {
			document.querySelector('html').style.fontSize = window.screen.width / 20 + 'px';
		};
	</script>
	<link rel="stylesheet" href="css/index.css">
</head>
<body>
	<!--loading页面--->
	<div class="loading">
		<div class="rider"></div>
		<div class="progress">
			<div class="step"></div>
		</div>
		<div class="info"></div>
		<!--百度外面logo--->
		<div class="logo"></div>
		<!--版权信息--->
		<div class="copyright">
			@ 2018 BD WM Produced
		</div>
	</div>

	<!-- 欢迎 页面 --->
	<div class="welcome">
		<div class="info">
			<div class="hello"></div>
		</div>
		<!-- 云 --->
		<div class="cloud"></div>
		<!-- 草地 --->
		<div class="grass1"></div>
		<!-- 熊笼子 --->
		<div class="bear-box">
			<div class="bear"></div>
			<div class="smoke"></div>
		</div>
		<!-- 树 --->
		<div class="trees"></div>
		<!-- 草地2 --->
		<div class="grass2"></div>
		<!-- 旋转的按钮 --->
		<div class="rotate-btn-box">
			<div class="btn"></div>
			<div class="circle1"></div>
			<div class="circle2"></div>
		</div>
	</div>

	<!-- 轮播 页面 -->
	<div class="waimai-container">
		<div class="swiper-wrapper">
			<!-- 页面 1 -->
			<div class="swiper-slide page1">
				<div class="title">
					<h3>生活中，</h3>
					<p>经常有这种时候....</p>
					<div class="line"></div>
				</div>
				<!-- 轮播区域1 -->
				<div class="scroll-page1">
					<div class="bg"></div>
					<div class="person">
						<div class="files">
							<div class="paper1"></div>
							<div class="paper2"></div>
						</div>
					</div>
					<div class="sphere"></div>
					<div class="message-container">
						<div class="info"></div>
					</div>
				</div>
				<!-- 轮播区域2 -->
				<div class="scroll-page2">
					<div class="bg"></div>
					<div class="person">
						<div class="leg1"></div>
						<div class="leg2"></div>
					</div>
					<div class="message-container">
						<div class="info"></div>
					</div>
				</div>
				<!-- 轮播区域3 -->
				<div class="scroll-page3">
					<div class="bg"></div>
					<div class="person">
						<div class="word1"></div>
						<div class="word2"></div>
						<div class="word3"></div>
						<div class="word4"></div>
					</div>
					<div class="message-container">
						<div class="info"></div>
					</div>
				</div>
				<!-- 星球 -->
				<div class="sphere"></div>
				<!-- 熊 -->
				<div class="bear"></div>
			</div>
			<!-- 页面 2 -->
			<div class="swiper-slide page2">
				<div class="title">
					<h3>这时候，</h3>
					<p>如果有份外卖... <br>刚好送到。。。</p>
					<div class="line"></div>
				</div>
				<div class="bg"></div>
				<div class="bear">
					<div class="face1"></div>
					<div class="face2"></div>
					<!-- 熊掌 -->
					<div class="hand-left"></div>
					<div class="hand-right"></div>
				</div>
				<div class="sphere"></div>
				<div class="table"></div>
				<div class="food"></div>
			</div>
			<!-- 页面 3 -->
			<div class="swiper-slide page3">
				<div class="title">
					<h3>这时候，</h3>
					<p>如果有份外卖... <br>刚好送到。。。</p>
					<div class="line"></div>
				</div>
				<div class="bg"></div>
				<div class="bear"></div>
				<!-- 踢牌子的熊  -->
				<div class="animation-bear-box">
					<div class="animation-bear1"></div>
					<div class="animation-bear2"></div>
					<div class="animation-bear3"></div>
				</div>
				<div class="sphere"></div>
				<!-- 牌子 -->
				<div class="narmal-card">
					<div class="license"></div>
					<div class="oil"></div>
					<div class="evil"></div>
				</div>
				<div class="hit-card-box">
					<div class="card1"></div>
					<div class="card2"></div>
					<div class="card3"></div>
				</div>
			</div>
			<!-- 页面 4 -->
			<div class="swiper-slide page4">
				<div class="title">
					<h3>XX外卖</h3>
					<p>好好好好吃啊... </p>
					<div class="line"></div>
				</div>
				<div class="bg"></div>
				<div class="bear"></div>
				<div class="sphere"></div>
				<!-- 牌子 -->
				<div class="card1"></div>
				<div class="card2"></div>
				<div class="card3"></div>
			</div>
			<!-- 页面 5 -->
			<div class="swiper-slide page5">
				<div class="title">
					<h3>无论前方</h3>
					<p>狂风、暴雨、还是飘雪... <br>依旧送达！ </p>
					<div class="line"></div>
				</div>
				<div class="bg"></div>
				<div class="bear">
					<div class="smoke"></div>
				</div>
				<div class="sphere"></div>
				<div class="cloud">
					<div class="snow"></div>
					<div class="snow"></div>
					<div class="snow"></div>
					<div class="snow"></div>
					<div class="snow"></div>
					<div class="snow"></div>
				</div>
			</div>
			<!-- 页面 6 -->
			<div class="swiper-slide page6">
				<div class="title">
					<h3>吃啥送啥</h3>
					<p>礼物拿到手软<br>省钱省到家 </p>
					<div class="line"></div>
				</div>
				<div class="bg"></div>
				<div class="bear">
					<div class="gift-box">
						<div><div class="gift1"></div></div>
						<div><div class="gift2"></div></div>
						<div><div class="gift3"></div></div>
						<div><div class="gift4"></div></div>
						<div><div class="gift5"></div></div>
						<div><div class="gift6"></div></div>
						<div><div class="gift7"></div></div>
						<div><div class="gift8"></div></div>
						<div><div class="gift9"></div></div>
						<div><div class="gift10"></div></div>
						<div><div class="gift11"></div></div>
						<div><div class="gift12"></div></div>
					</div>
				</div>
				<div class="sphere"></div>
			</div>
			<!-- 页面 7 -->
			<div class="swiper-slide page7">
				<div class="title">
					<h3>我这么努力</h3>
					<p>只是为了你！！！！</p>
					<div class="line"></div>
				</div>
				<div class="streetlight">
					<div class="light"></div>
				</div>
				<div class="motobike"></div>
				<div class="sphere"></div>
				<div class="bear"></div>
				<div class="share"></div>
				<div class="info">waimai.xxx.com</div>
			</div>
		</div>
	</div>
	<!-- 音频播放 -->
	<audio loop="loop" preload="load" src="music/hlw.mp3"></audio>
	<input type="button" class="audioControl">
</body>
</html>

<!-- 导入swiper -->
<script type="text/javascript" src="lib/swiper/swiper.min.js"></script>
<!-- 导入zepto -->
<script type="text/javascript" src="lib/zepto/zepto.js"></script>
<script type="text/javascript" src="lib/zepto/event.js"></script>
<script type="text/javascript" src="lib/zepto/touch.js"></script>
<script type="text/javascript" src="lib/zepto/fx.js"></script>
<script type="text/javascript" src="lib/zepto/fx_methods.js"></script>
<script>
	//设置swiper
	var swiper = new Swiper('.waimai-container',{
		direction: 'vertical',
		// 添加 回调函数
		onSlideChangeEnd: function(swiper){
      		//alert(swiper.activeIndex) //切换结束时，告诉我现在是第几个slide
      		$('.swiper-slide').eq(swiper.activeIndex).addClass('aniamte').siblings().removeClass('aniamte');
      		// 第三轮播页 索引为2 禁止滑动
      		if (swiper.activeIndex == 2) {
      			console.log('别划了');
      			$('.swiper-slide').eq(2).addClass('swiper-no-swiping');
      		}

      		// 第三轮播页 索引为2 还原样式
      		if(swiper.previousIndex == 2){
      			//还原我们设置的 行内样式
      			$('.swiper-slide').eq(2).find('.bear').attr('style','');
      			$('.animation-bear-box div').attr('style','');
      			$('.narmal-card div').attr('style','');
      			$('.hit-card-box div').attr('style','');
      		}
    	}
	});
	//	1.页面打开 稍等一会 开启定时器
	$(function() {
		setTimeout(function(){
			$('.loading').addClass('aniamte');
		},1000);

		$('.loading .step').on('animationend',function(){
			$('.loading').fadeOut(1000,function(){
				$('.welcome').addClass('aniamte');
			});
		});
		//	welcome页面 按钮长按
		$('.welcome .rotate-btn-box').longTap(function(){
			//zepto 添加 css中的 animation动画
			$('.bear-box').css('animation','bearDisappear 1s forwards');
			
			setTimeout(function(){
				$('.welcome').fadeOut(1000,function(){
				//	为page1 加aniamte
					$('.page1').addClass('aniamte');
			});
			},1000);
		});
		// 第三轮播页 索引为2 点击取消禁止滑动
		$('.swiper-slide').eq(2).click(function(){
			console.log('点我');

			// 隐藏中间的熊
			// 显示 踢牌子的 熊
			$('.swiper-slide').eq(2).children('.bear').css('animation','none');
			var index = 0;
			timer = setInterval(function(){
				$('.animation-bear-box div').css('opacity',0);
				$('.animation-bear-box div').eq(index).css('opacity',1);

				//踢的时候 隐藏 narmal-card 中的牌子
				$('.narmal-card').children().css('animation','none');

				//踢的时候 显示 hit-card-box 中的牌子
				$('.hit-card-box div').eq(index).css('opacity','1');
				// 当 index == 2 时，就是踢最后一个
				if (index == 2) {
					clearInterval(timer);
					//牌子往下掉
					$('.hit-card-box div').css('animation','bearDisappear 1s forwards');
					//掉完开启滑动
					setTimeout(function(){
						$('.swiper-slide').eq(2).removeClass('swiper-no-swiping');
					},1000);
				}
				index++;
			},1000);
		});
	});

	// 为音频按钮 绑定点击事件 控制音频
	var audioDom = document.querySelector('audio');
	$('.audioControl').click(function(){
		if (audioDom.paused == true) {
			audioDom.play();
			$(this).css('background-image','url(image/pause.png)');
		}else{
			audioDom.pause();
			$(this).css('background-image','url(image/play.png)');
		}
	});
</script>